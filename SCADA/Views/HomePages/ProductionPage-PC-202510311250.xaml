<UserControl
    x:Class="SCADA.Views.HomePages.ProductionPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:SCADA.Views.HomePages"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:prism="http://prismlibrary.com/"
    d:DesignHeight="450"
    d:DesignWidth="800"
    FontFamily="微软雅黑"
    mc:Ignorable="d">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition />
            <ColumnDefinition />
            <ColumnDefinition />
        </Grid.ColumnDefinitions>
        <materialDesign:Card Margin="5">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="auto" />
                    <RowDefinition />
                </Grid.RowDefinitions>
                <TextBlock Text="看板信息" />
            </Grid>
        </materialDesign:Card>
        <materialDesign:Card Grid.Column="1" Margin="5">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="auto" />
                    <RowDefinition />
                </Grid.RowDefinitions>
                <TextBlock Margin="5" Text="生产数量" />
                <TextBlock
                    Grid.Row="1"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    FontSize="300">
                    <!--  正确的绑定方式  -->
                    <TextBlock.Text>
                        <Binding NotifyOnTargetUpdated="True" Path="TargetValue" />
                    </TextBlock.Text>
                    <TextBlock.Triggers>
                        <EventTrigger RoutedEvent="Binding.TargetUpdated">
                            <BeginStoryboard>
                                <Storyboard>
                                    <!--  X轴弹性缩放  -->
                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)" Duration="0:0:0.6">
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0" Value="1" />
                                        <SplineDoubleKeyFrame
                                            KeySpline="0.2,0.8,0.8,0.2"
                                            KeyTime="0:0:0.2"
                                            Value="1.5" />
                                        <SplineDoubleKeyFrame
                                            KeySpline="0.2,0.8,0.8,0.2"
                                            KeyTime="0:0:0.4"
                                            Value="0.8" />
                                        <SplineDoubleKeyFrame
                                            KeySpline="0.2,0.8,0.8,0.2"
                                            KeyTime="0:0:0.5"
                                            Value="1.1" />
                                        <SplineDoubleKeyFrame
                                            KeySpline="0.2,0.8,0.8,0.2"
                                            KeyTime="0:0:0.6"
                                            Value="1.0" />
                                    </DoubleAnimationUsingKeyFrames>

                                    <!--  Y轴同步缩放  -->
                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)" Duration="0:0:0.6">
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0" Value="1" />
                                        <SplineDoubleKeyFrame
                                            KeySpline="0.2,0.8,0.8,0.2"
                                            KeyTime="0:0:0.2"
                                            Value="0.5" />
                                        <SplineDoubleKeyFrame
                                            KeySpline="0.2,0.8,0.8,0.2"
                                            KeyTime="0:0:0.4"
                                            Value="1.3" />
                                        <SplineDoubleKeyFrame
                                            KeySpline="0.2,0.8,0.8,0.2"
                                            KeyTime="0:0:0.5"
                                            Value="0.9" />
                                        <SplineDoubleKeyFrame
                                            KeySpline="0.2,0.8,0.8,0.2"
                                            KeyTime="0:0:0.6"
                                            Value="1.0" />
                                    </DoubleAnimationUsingKeyFrames>

                                    <!--  颜色闪烁效果  -->
                                    <ColorAnimationUsingKeyFrames Storyboard.TargetProperty="(TextBlock.Foreground).(SolidColorBrush.Color)" Duration="0:0:0.3">
                                        <DiscreteColorKeyFrame KeyTime="0:0:0.1" Value="#FFFF0000" />
                                        <DiscreteColorKeyFrame KeyTime="0:0:0.3" Value="#FF0078D7" />
                                    </ColorAnimationUsingKeyFrames>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </TextBlock.Triggers>

                    <!--  变换中心点设置  -->
                    <TextBlock.RenderTransform>
                        <ScaleTransform CenterX="0.5" CenterY="0.5" />
                    </TextBlock.RenderTransform>

                    <!--  默认颜色设置  -->
                    <TextBlock.Foreground>
                        <SolidColorBrush Color="#FF0078D7" />
                    </TextBlock.Foreground>
                </TextBlock>
            </Grid>
        </materialDesign:Card>
        <materialDesign:Card Grid.Column="2" Margin="5">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="auto" />
                    <RowDefinition />
                </Grid.RowDefinitions>
                <TextBlock Text="检测信息" />
            </Grid>
        </materialDesign:Card>
    </Grid>
</UserControl>